.. Autogenerated by Gollum RST generator (docs/generator/*.go)

StatsdMetrics
=============

This producer samples the messages it receives and sends metrics about them
to statsd.




Parameters
----------

**Server**

  Defines the server and port to send statsd metrics to.
  By default this parameter is set to "localhost:8125".
  
  

**Prefix**

  Defines a string that is prepended to every statsd metric name.
  By default this parameter is set to "gollum.".
  
  

**StreamMapping**

  Defines a translation from gollum stream to statsd metric
  name. If no mapping is given the gollum stream name is used as the metric
  name.
  By default this parameter is set to an empty list.
  
  

**UseMessage** (default: false)

  Switch between just counting all messages arriving at this
  producer or summing up the message content. If UseMessage is set to true, the
  contents will be parsed as an integer, i.e. a string containing a human
  readable number is expected.
  By default the parameter is set to false.
  
  

**UseGauge** (default: false)

  When set to true the statsd data format will switch from counter
  to gauge. Every stream that does not receive any message but is liste in
  StreamMapping will have a gauge value of 0.
  By default this is parameter is set to false.
  
  

**Batch/MaxMessages**

  Defines the maximum number of messages to collect per
  batch.
  By default this parameter is set to 500.
  
  

**Batch/TimeoutSec** (default: 10, unit: sec)

  Defines the number of seconds after which a batch is
  processed, regardless of MaxMessages being reached or not.
  By default this parameter is set to 10.
  
  

Parameters (from BufferedProducer)
----------------------------------

**Channel**

  This value defines the capacity of the message buffer.
  By default this parameter is set to "8192".
  
  

**ChannelTimeoutMs** (default: 0, unit: ms)

  This value defines a timeout for each message before the message will discarded.
  You can set this parameter to "0" for disabling the timeout.
  By default this parameter is set to "0".
  
  

Parameters (from DirectProducer)
--------------------------------

**Enable**

  switches the consumer on or off. By default this value is set to true.
  
  

**ID**

  allows this producer to be found by other plugins by name. By default this
  is set to "" which does not register this producer.
  
  

**ShutdownTimeoutMs**

  sets a timeout in milliseconds that will be used to detect
  a blocking producer during shutdown. By default this is set to 1 second.
  Decreasing this value may lead to lost messages during shutdown. Increasing
  this value will increase shutdown time.
  
  

**Streams**

  contains either a single string or a list of strings defining the
  message channels this producer will consume. By default this is set to "*"
  which means "listen to all routers but the internal".
  
  

**FallbackStream**

  defines the stream used for messages that are sent to the fallback after
  a timeout (see ChannelTimeoutMs). By default this is _DROPPED_.
  
  

**Modulators**

  sets formatter and filter to use. Each formatter has its own set of options
  which can be set here, too. By default this is set to format.Forward.
  Each producer decides if and when to use a Formatter.
  
  

Examples
--------

.. code-block:: yaml

	This example will collect all messages going through gollum and sending
	metrics about the different datastreams to statsd at least every 5 seconds.
	Metrics will be send as "logs.streamName".
	
	 metricsCollector:
	   Type: producer.StatsdMetrics
	   Stream: "*"
	   Server: "stats01:8125"
	   BatchTimeoutSec: 5
	   Prefix: "logs."
	   UseGauge: true
	
	



.. Autogenerated by Gollum RST generator (docs/generator/*.go)

ElasticSearch
=============

The ElasticSearch producer sends messages to elastic search using the bulk
http API. The producer expects a json payload.




Parameters
----------

**Retry/Count**

  Set the amount of retries before a Elasticsearch request fail finally.
  By default this parameter is set to "3".
  
  

**Retry/TimeToWaitSec**

  This value denotes the time in seconds after which a failed dataset will be
  transmitted again.
  By default this parameter is set to "3".
  
  

**SetGzip**

  This value enables or disables gzip compression for Elasticsearch
  requests (disabled by default). This option is used one to one for the library package.
  See: http://godoc.org/gopkg.in/olivere/elastic.v5#SetGzip
  By default this parameter is set to "false".
  
  

**Servers**

  This value defines a list of servers to connect to.
  
  

**User**

  This value used as username credential for the elasticsearch server.
  By default this parameter is set to "".
  
  

**Password**

  This value used as password credential for the elasticsearch server.
  By default both settings is set to "".
  
  

**StreamProperties**

  This value defines the mapping and settings for each stream.
  As index use the stream name here.
  
  

**StreamProperties/<streamName>/Index**

  The value defines the Elasticsearch index which used for the stream.
  
  

**StreamProperties/<streamName>/Type**

  This value defines the document type which used for the stream.
  
  

**StreamProperties/<streamName>/DayBasedIndex**

  This value can be set to "true" to append the date of the message to the
  index as in "<index>_YYYY-MM-DD".
  NOTE: This setting need more performance because it is necessary to check if an index exist for each message!
  By default this parameter is set to "false".
  
  

**StreamProperties/<streamName>/Mapping**

  This value is a map which used for the document field mapping.
  As document type the already definded type is reused for the field mapping
  See https://www.elastic.co/guide/en/elasticsearch/reference/5.4/indices-create-index.html#mappings
  
  

**StreamProperties/<streamName>/Settings**

  This value is a map which is used for the index settings.
  See https://www.elastic.co/guide/en/elasticsearch/reference/5.4/indices-create-index.html#mappings
  
  

Parameters (from core.BatchedProducer)
--------------------------------------

**Batch/MaxCount** (default: 8192)

  Defines the maximum number of messages per batch. If this
  limit is reached a flush is always triggered.
  By default this parameter is set to 8192.
  
  

**Batch/FlushCount** (default: 4096)

  Defines the minimum number of messages required to flush
  a batch. If this limit is reached a flush might be triggered.
  By default this parameter is set to 4096.
  
  

**Batch/TimeoutSec** (default: 5, unit: sec)

  Defines the maximum time in seconds messages can stay in
  the internal buffer before being flushed.
  By default this parameter is set to 5.
  
  

Examples
--------

.. code-block:: yaml

	This example starts a simple twitter example producer for local running ElasticSearch:
	
	 producerElasticSearch:
		  Type: producer.ElasticSearch
	   Streams: tweets_stream
		  SetGzip: true
	   Servers:
	     - http://127.0.0.1:9200
	   StreamProperties:
			tweets_stream:
				Index: twitter
				DayBasedIndex: true
				Type: tweet
				Mapping:
					# index mapping for payload
					user: keyword
					message: text
				Settings:
					number_of_shards: 1
					number_of_replicas: 1
	
	


